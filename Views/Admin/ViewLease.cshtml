@model EliteRentals.Models.DTOs.LeaseDto
@{
    ViewData["Title"] = "View Lease";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container-fluid">
    <div class="row">
        @await Html.PartialAsync("_AdminSidebar")
        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 py-4">

            <div class="d-flex justify-content-between align-items-center pb-2 mb-3 border-bottom">
                <h2 class="h3">Lease Details</h2>
                <a asp-action="AdminLeases" class="btn btn-secondary">Back to Leases</a>
            </div>

            <div class="card shadow-sm">
                <div class="card-body">
                    <dl class="row mb-0">
                        <dt class="col-sm-3 text-muted">Tenant</dt>
                        <dd class="col-sm-9 fw-bold">@Model.TenantName</dd>

                        <dt class="col-sm-3 text-muted">Property</dt>
                        <dd class="col-sm-9 fw-bold">@Model.PropertyTitle</dd>

                        <dt class="col-sm-3 text-muted">Start Date</dt>
                        <dd class="col-sm-9">@Model.StartDate:yyyy-MM-dd</dd>

                        <dt class="col-sm-3 text-muted">End Date</dt>
                        <dd class="col-sm-9">@Model.EndDate:yyyy-MM-dd</dd>

                        <dt class="col-sm-3 text-muted">Deposit</dt>
                        <dd class="col-sm-9">@Model.Deposit.ToString("C")</dd>

                        <dt class="col-sm-3 text-muted">Status</dt>
                        <dd class="col-sm-9">
                            <span class="badge @(Model.Status switch {
                                "Active" => "bg-success",
                                "Pending Approval" => "bg-warning text-dark",
                                "Terminated" => "bg-danger",
                                _ => "bg-secondary"
                            })">@Model.Status</span>
                        </dd>

                        @if (Model.DocumentData?.Length > 0)
                        {
                            <dt class="col-sm-3 text-muted">Document</dt>
                            <dd class="col-sm-9">
                                <a asp-action="DownloadLeaseDocument" asp-route-id="@Model.LeaseId" class="btn btn-sm btn-outline-primary">
                                    Download
                                </a>
                            </dd>
                        }
                    </dl>
                </div>
            </div>
        </main>
    </div>
</div>
