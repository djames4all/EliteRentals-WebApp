@{
    var currentTitle = ViewData["Title"]?.ToString() ?? "";
    string title = currentTitle.ToLower();
}

<style>
    :root {
        --adm-sidebar-w: 175px;
        --adm-navbar-h: 100px;
    }

    body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: var(--adm-sidebar-w);
        height: 100vh;
        background: #121315;
        z-index: 0;
        pointer-events: none;
    }

    header, .navbar, footer {
        position: relative !important;
        z-index: 1035 !important;
    }

    .adm-sidebar {
        position: fixed;
        top: var(--adm-navbar-h);
        left: 0;
        bottom: 0;
        width: var(--adm-sidebar-w);
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        background: transparent;
        color: #fff;
        z-index: 1;
    }

    .adm-sidebar::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.15);
        pointer-events: none;
        z-index: -1;
    }

    .adm-sidebar h4 {
        margin-top: 1.5rem;
        margin-left: 1rem;
        margin-bottom: 0.75rem;
        color: #fff;
    }

    .adm-sidebar .nav-link {
        padding: .6rem 1rem;
        color: #fff;
    }

    .adm-sidebar .nav-link.active {
        border-left: 4px solid #dc3545;
        background-color: rgba(220,53,69,.12);
        font-weight: 500;
    }

    .adm-sidebar .nav-link:hover {
        background-color: rgba(255,255,255,.04);
    }

    .adm-sidebar-menu {
        flex: 1;
        overflow-y: auto;
        padding-top: 0.75rem;
    }

    .layout-body, .main-content, .container {
        margin-left: var(--adm-sidebar-w);
    }

    /* REMOVE FOOTER ONLY WHEN SIDEBAR EXISTS */
    footer {
        display: none !important;
    }

    .adm-sidebar-footer {
        text-align: center;
        padding: 0.75rem 1rem;
        font-size: 0.75rem;
        opacity: 0.8;
    }
</style>

<nav class="adm-sidebar" aria-label="Admin sidebar">
    <div class="adm-sidebar-menu">
        <h4 class="px-3">Admin</h4>
        <ul class="nav flex-column mt-4">
            <li class="nav-item">
                <a class="nav-link @(title.Contains("dashboard") ? "active" : "")"
                   href="@Url.Action("AdminDashboard", "Admin")">Dashboard</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("properties") ? "active" : "")"
                   href="@Url.Action("AdminProperties", "Admin")">Properties</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("system") && title.Contains("user") ? "active" : "")"
                   href="@Url.Action("AdminSystemUser", "Admin")">System Users</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("leases") ? "active" : "")"
                   href="@Url.Action("AdminLeases", "Admin")">Leases</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("payments") ? "active" : "")"
                   href="@Url.Action("AdminPayments", "Admin")">Payments</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("maintenance") ? "active" : "")"
                   href="@Url.Action("AdminMaintenance", "Admin")">Maintenance</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("messages") ? "active" : "")"
                   href="@Url.Action("AdminMessages", "Admin")">Messages</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("chatbot") ? "active" : "")"
                   href="@Url.Action("AdminChatbot", "Admin")">Chatbot</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("reports") ? "active" : "")"
                   href="@Url.Action("AdminReports", "Admin")">Reports</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("settings") ? "active" : "")"
                   href="@Url.Action("AdminSettings", "Admin")">Settings</a>
            </li>
        </ul>
    </div>

    <div class="adm-sidebar-footer">
        &copy; 2025 <strong>Elite Rentals</strong>. All Rights Reserved.
    </div>
</nav>