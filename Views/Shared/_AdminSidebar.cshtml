@* Views/Shared/_AdminSidebar.cshtml *@
@{
    var currentTitle = ViewData["Title"]?.ToString() ?? "";
    string title = currentTitle.ToLower();
}

<style>
    :root{
        --adm-sidebar-w: 240px;     /* rail width */
        --adm-navbar-h: 56px;       /* match the height of the top navbar in _Layout.cshtml */
    }

    .adm-sidebar {
        position: fixed;
        top: var(--adm-navbar-h);
        left: 0;
        bottom: 0;
        width: var(--adm-sidebar-w);
        background: #212529;        /* bg-dark */
        color: #fff;
        overflow-y: auto;
        padding: 0.75rem 0;
        z-index: 1020;              /* under navbar, above content */
    }

    .adm-sidebar h4 { margin: 0.25rem 1rem 0.75rem; }
    .adm-sidebar .nav-link { padding:.6rem 1rem; color:#fff; }
    .adm-sidebar .nav-link.active {
        border-left: 4px solid #dc3545;
        background-color: rgba(220,53,69,.1);
        font-weight: 500;
    }
    .adm-sidebar .nav-link:hover { background-color: rgba(255,255,255,.06); }

    /* mobile: sidebar becomes normal flow (not fixed, full width) */
    @@media (max-width: 767.98px){
        .adm-sidebar {
            position: static;
            width: 100%;
            top: 0;
            height: auto;
        }
    }
</style>

<nav class="adm-sidebar">
    <div class="position-sticky">
        <h4 class="px-3 text-white">Admin</h4>
        <ul class="nav flex-column mt-4">
            <li class="nav-item">
                <a class="nav-link @(title.Contains("dashboard") ? "active" : "")"
                   href="@Url.Action("AdminDashboard", "Admin")">Dashboard</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("properties") ? "active" : "")"
                   href="@Url.Action("AdminProperties", "Admin")">Properties</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("system") && title.Contains("user") ? "active" : "")"
                   href="@Url.Action("AdminSystemUser", "Admin")">System Users</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("leases") ? "active" : "")"
                   href="@Url.Action("AdminLeases", "Admin")">Leases</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("payments") ? "active" : "")"
                   href="@Url.Action("AdminPayments", "Admin")">Payments</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("maintenance") ? "active" : "")"
                   href="@Url.Action("AdminMaintenance", "Admin")">Maintenance</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("messages") ? "active" : "")"
                   href="@Url.Action("AdminMessages", "Admin")">Messages</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("chatbot") ? "active" : "")"
                   href="@Url.Action("AdminChatbot", "Admin")">Chatbot</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("reports") ? "active" : "")"
                   href="@Url.Action("AdminReports", "Admin")">Reports</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("settings") ? "active" : "")"
                   href="@Url.Action("AdminSettings", "Admin")">Settings</a>
            </li>
        </ul>
    </div>
</nav>
