@* Views/Shared/_ManagerSidebar.cshtml *@
@{
    var currentTitle = ViewData["Title"]?.ToString() ?? "";
}

<style>
    :root {
        --mgr-sidebar-w: 240px;   /* sidebar width */
        --mgr-navbar-h: 56px;     /* height of your top navbar */
    }

    /* keep your active look */
    .nav-link.active {
        border-left: 4px solid #0d6efd;
        background-color: rgba(13, 110, 253, 0.1);
        font-weight: 500;
    }

    /* FIXED left rail */
    .mgr-sidebar {
        position: fixed;
        top: var(--mgr-navbar-h);
        left: 0;
        bottom: 0;
        width: var(--mgr-sidebar-w);
        background-color: #212529; /* bg-dark */
        color: #fff;
        overflow-y: auto;
        padding: 0.75rem 0; /* subtle vertical padding */
        z-index: 1020; /* above content, below .navbar if needed */
    }

    .mgr-sidebar h4 { margin: 0.25rem 1rem 0.75rem; }
    .mgr-sidebar .nav-link { padding: .6rem 1rem; color: #fff; }
    .mgr-sidebar .nav-link:hover { background-color: rgba(255,255,255,.06); }

    /* mobile: sidebar flows normally (not fixed) and takes full width */
    @@media (max-width: 767.98px) {
        .mgr-sidebar {
            position: static;
            width: 100%;
            top: 0;
            height: auto;
        }
    }
</style>

<nav class="mgr-sidebar">
    <div class="position-sticky">
        <h4 class="px-3 text-white">Manager</h4>
        <ul class="nav flex-column mt-3">
            <li class="nav-item">
                <a class="nav-link @(currentTitle.Contains("Dashboard") ? "active" : "")"
                   href="@Url.Action("ManagerDashboard", "PropertyManager")">Dashboard</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(currentTitle.Contains("Properties") ? "active" : "")"
                   href="@Url.Action("ManagerProperties", "PropertyManager")">Properties</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(currentTitle.Contains("Leases") ? "active" : "")"
                   href="@Url.Action("ManagerLeases", "PropertyManager")">Leases</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(currentTitle.Contains("Maintenance") ? "active" : "")"
                   href="@Url.Action("ManagerMaintenance", "PropertyManager")">Maintenance</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(currentTitle?.Contains("Applications", System.StringComparison.OrdinalIgnoreCase) == true ? "active" : "")"
                    asp-controller="PropertyManager" asp-action="ManagerApplications">
                    Applications
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(currentTitle.Contains("Payments") ? "active" : "")"
                   href="@Url.Action("ManagerPayments", "PropertyManager")">Payments</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(currentTitle.Contains("Tenants") ? "active" : "")"
                   href="@Url.Action("ManagerTenants", "PropertyManager")">Tenants</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(currentTitle.Contains("Escalations") ? "active" : "")"
                   href="@Url.Action("ManagerEscalations", "PropertyManager")">Escalations</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(currentTitle.Contains("Settings") ? "active" : "")"
                   href="@Url.Action("ManagerSettings", "PropertyManager")">Settings</a>
            </li>
        </ul>
    </div>
</nav>
