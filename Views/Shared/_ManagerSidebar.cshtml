@* Views/Shared/_ManagerSidebar.cshtml *@
@{
    var currentTitle = ViewData["Title"]?.ToString() ?? "";
    string title = currentTitle.ToLower();
}

<style>
    :root {
        --mgr-sidebar-w: 175px;
        --mgr-navbar-h: 100px;
    }

    body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: var(--mgr-sidebar-w);
        height: 100vh;
        background: #121315;
        z-index: 0;
        pointer-events: none;
    }

    header, .navbar, footer {
        position: relative !important;
        z-index: 1035 !important;
    }

    .mgr-sidebar {
        position: fixed;
        top: var(--mgr-navbar-h);
        left: 0;
        bottom: 0;
        width: var(--mgr-sidebar-w);
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        background: transparent;
        color: #fff;
        z-index: 1;
    }

        .mgr-sidebar::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.15);
            pointer-events: none;
            z-index: -1;
        }

        .mgr-sidebar h4 {
            margin-top: 1.5rem;
            margin-left: 1rem;
            margin-bottom: 0.75rem;
            color: #fff;
        }

        .mgr-sidebar .nav-link {
            padding: .6rem 1rem;
            color: #fff;
        }

            .mgr-sidebar .nav-link.active {
                border-left: 4px solid #0d6efd;
                background-color: rgba(13, 110, 253, .12);
                font-weight: 500;
            }

            .mgr-sidebar .nav-link:hover {
                background-color: rgba(255,255,255,.04);
            }

    .mgr-sidebar-menu {
        flex: 1;
        overflow-y: auto;
        padding-top: 0.75rem;
    }

    .layout-body, .main-content, .container {
        margin-left: var(--mgr-sidebar-w);
    }

    /* REMOVE FOOTER ONLY WHEN SIDEBAR EXISTS */
    footer {
        display: none !important;
    }

    .mgr-sidebar-footer {
        text-align: center;
        padding: 0.75rem 1rem;
        font-size: 0.75rem;
        opacity: 0.8;
    }

</style>

<nav class="mgr-sidebar" aria-label="Manager sidebar">
    <div class="mgr-sidebar-menu">
        <h4 class="px-3">Manager</h4>
        <ul class="nav flex-column mt-4">
            <li class="nav-item">
                <a class="nav-link @(title.Contains("dashboard") ? "active" : "")"
                   href="@Url.Action("ManagerDashboard", "PropertyManager")">Dashboard</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("properties") ? "active" : "")"
                   href="@Url.Action("ManagerProperties", "PropertyManager")">Properties</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("leases") ? "active" : "")"
                   href="@Url.Action("ManagerLeases", "PropertyManager")">Leases</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("maintenance") ? "active" : "")"
                   href="@Url.Action("ManagerMaintenance", "PropertyManager")">Maintenance</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("applications") ? "active" : "")"
                   href="@Url.Action("ManagerApplications", "PropertyManager")">Applications</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("payments") ? "active" : "")"
                   href="@Url.Action("ManagerPayments", "PropertyManager")">Payments</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("tenants") ? "active" : "")"
                   href="@Url.Action("ManagerTenants", "PropertyManager")">Tenants</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("messages") ? "active" : "")"
                   href="@Url.Action("ManagerMessages", "PropertyManager")">Messages</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("chatbot") ? "active" : "")"
                   href="@Url.Action("ManagerChatbot", "PropertyManager")">AI Chatbot</a>
            </li>
            <li class="nav-item">
                <a class="nav-link @(title.Contains("settings") ? "active" : "")"
                   href="@Url.Action("ManagerSettings", "PropertyManager")">Settings</a>
            </li>
        </ul>
    </div>

    <div class="mgr-sidebar-footer">
        &copy; 2025 <strong>Elite Rentals</strong>. All Rights Reserved.
    </div>
</nav>
